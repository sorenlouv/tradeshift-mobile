<header>
	<div class="back">
		<a href="/#/business-intelligence">
			<i class="fa fa-arrow-left"></i>
		</a>
	</div>
	<div>
		<h3 ng-bind="company.name"></h3>
		<span>To be invoiced: 4.000</span>
	</div>
	<div class="add" >
		<a ng-click="addItem()">
			<i class="fa fa-plus-circle"></i>
		</a>
	</div>
</header>


<div class="transactions">
	<div class="transaction" ng-repeat="line in activity.lines">
		<input type="checkbox" class="to-be-settled"/>
		<div class="update">
			<div class="object">
				<span class="primary">{{line.product.quantity}} * {{line.product.title}}</span>
				<span class="secondary">{{line.product.unit_price}} pr. piece</span>
			</div>
			<div class="price">
				<span class="primary">{{(line.product.unit_price * line.product.quantity) | currency: line.product.currency}}</span>
				<span class="secondary">Total</span>
			</div>
		</div>
		<div class="comments">
			<div class="comment" ng-repeat="comment in line.comments">
				<span class="person"><a href="#">{{comment.user | username}}</a></span>
				<span class="content">{{comment.comment}}</span>
			</div>
		</div>
	</div>
</div>

<section class="picker" >
	<div class="picker-bg" ng-click="hidePickers()"></div>
	<div class="add-picker">
		<div class="picker-content">
			<div class="picker-header">
				<h1>Actions</h1>
				<a ng-click="hidePickers()">
					<i class="fa fa-times"></i>
				</a>
			</div>
			<div class="picker-data">
				<h3>Add &hellip;</h3>
				<ul>
					<li ng-click="addProduct()">
						<span>Product</span>
						<i class="fa fa-chevron-right"></i>
					</li>
					<li>
						<span>Quote</span>
						<i class="fa fa-chevron-right"></i>
					</li>
					<li>
						<span>Expense</span>
						<i class="fa fa-chevron-right"></i>
					</li>
				</ul>
				<h3>Other</h3>
				<ul>
					<li ng-click="generateInvoice()">Generate invoice </li>
				</ul>
			</div>
		</div>
	</div>

	<div class="product-picker">
		<div class="picker-content">
			<div class="picker-header">
				<h1>Add product</h1>
				<a ng-click="hidePickers()">
					<i class="fa fa-times"></i>
				</a>
			</div>
			<div class="picker-data">
				<ul>
					<li ng-repeat="product in products">
						<div ng-click="selectProduct(product)">
							{{product.title}}
							<i class="fa fa-chevron-right"></i>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<div class="select-picker">
		<div class="picker-content">
			<div class="picker-header">
				<h1>{{new_activity.product.title}}</h1>
				<a ng-click="hidePickers()">
					<i class="fa fa-times"></i>
				</a>
			</div>
			<div class="picker-data">
				<h3>Select price</h3>
				<ul>
					<li ng-click="selectPrice(new_activity.product.price)">{{new_activity.product.price | currency: new_activity.product.currency}}</li>
					<li ng-click="selectPrice(new_activity.product.price * 0.9)">{{(new_activity.product.price * 0.9) | currency: new_activity.product.currency}}<span class="discount">10% discount</span></li>
					<li ng-click="selectPrice(new_activity.product.price * 0.8)">{{(new_activity.product.price * 0.8) | currency: new_activity.product.currency}}<span class="discount">20% discount</span></li>
					<li ng-click="selectPrice(new_activity.product.price * 0.7)">{{(new_activity.product.price * 0.7) | currency: new_activity.product.currency}}<span class="discount">30% discount</span></li>
					<li><input type="text" placeholder="New price" ng-bind="new_activity.product.custom_price"></li>
				</ul>
				<h3>Comment</h3>
				<fieldset class="uniform">
					<label><span>Add comment</span></label>
					<input type="text" placeholder="Comment" ng-model="new_activity.description" class="_textual">
				</fieldset>
				<a class="button" ng-click="save()">Done</a>
			</div>
		</div>
	</div>
</section>


